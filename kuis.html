<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
	<meta name="author" content="shineofthedark <at> gmail"/>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
    <title>PoGo Raid Selatan Kota Jogja Quiz Winner Selector</title>
	<link rel="stylesheet" href="css/style.css">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
  </head>
  <body>
	<div id="dmain">
		<div class="rtext"><a href="index.html">&laquo; kembali ke halaman utama</a></div>
		<h2>PoGo Raid Selatan Kota Jogja Quiz Winner Selector</h2>
		<div>
		  nama kuis: <input type="text" name="n" value="" size="35" style="margin-bottom:4px"/><br/>
		  daftar kandidat pemenang: <input type="text" name="w" value="" /><br/><i>Pisahkan nama dengan tanda koma. Contoh: angga,humar,lanang</i>
		  <br/><br/>
		  total best of:
		  <select id="b" name="b">
			<option value="5">5</option>
			<option value="7">7</option>
			<option value="9">9</option>
			<option value="25">25</option>
			<option value="75">75</option>
			<option value="99" selected>99</option>
		  </select>
		  <br/><br/>
		  <a id="hit" class="tombol" href="javascript:void(0)">Find Winner</a>
		</div>
		<hr/>
		<div id="hasil"></div>
	</div>
	<script>
    $(document).ready(function() {
		$("#hit").click(function() {
			$("#hasil").html("");
			var w = $("input[name='w']").val();
			var a = w.split(",");
			var b = $("#b").find(":selected").text();
			var t = parseInt(b);
			var h = "";
			var h2 = {};
			var hd = "";
			var tmp = "";
			if(w=="") {
				$("#hasil").html("daftar kandidat pemenang masih kosong");
				return false;
			}
			$.each(a, function(key, value) {
				h2[value] = 0;
			});
			for (var i = 1; i <= b; i++) {
				tmp = a[Math.floor(Math.random() * a.length)];
				h2[tmp]++;
				hd += "random ke " + i + ": " + tmp + "<br/>";
			}
			h += 'total kemunculan:<br/>';
			$.each(h2, function(key, value) {
				h += key+": "+value+" / "+ t +"<br/>";
			});
			$("#hasil").html(h+"<hr/>Detail:<br/>"+hd);
		});
    });
    </script>
  </body>
</html>
